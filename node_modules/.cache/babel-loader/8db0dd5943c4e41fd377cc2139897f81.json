{"remainingRequest":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/babel-loader/lib/index.js!/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/src/components/common/scroll/Scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/src/components/common/scroll/Scroll.vue","mtime":1622267426000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Njcm9sbCcsCiAgcHJvcHM6IHsKICAgIHByb2JlVHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICJkZWZhdWx0IjogMAogICAgfSwKICAgIHB1bGxVcExvYWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgImRlZmF1bHQiOiBmYWxzZQogICAgfSwKICAgIG9ic2VydmVET006IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgImRlZmF1bHQiOiBmYWxzZQogICAgfSwKICAgIG9ic2VydmVJbWFnZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICAiZGVmYXVsdCI6IGZhbHNlCiAgICB9LAogICAgZGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgImRlZmF1bHQiOiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzY3JvbGw6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsg5Zu+54mH5Yqg6L295a6M5oiQ5ZCO5YaN5rua5Yqo5bCx5LiN55So5a6a5pe25Zmo5LqGCiAgICAvLyAxLuWIm+W7ukJTY3JvbGzlr7nosaEKICAgIHRoaXMuc2Nyb2xsID0gbmV3IEJTY3JvbGwodGhpcy4kcmVmcy53cmFwcGVyLCB7CiAgICAgIGNsaWNrOiB0cnVlLAoKICAgICAgLyogZGl2562J5YWD57Sg5oOz6KaB6KKr54K55Ye777yM5b+F6aG76K6+572uY2xpY2sgKi8KICAgICAgcHJvYmVUeXBlOiB0aGlzLnByb2JlVHlwZSwKICAgICAgcHVsbFVwTG9hZDogdGhpcy5wdWxsVXBMb2FkLAogICAgICBvYnNlcnZlRE9NOiB0aGlzLm9ic2VydmVET00sCiAgICAgIC8vIOetiemhtemdouWbvueJh+WKoOi9veWujOS5i+WQju+8jOWIt+aWsGNvbnRlbnTpq5jluqYKICAgICAgb2JzZXJ2ZUltYWdlOiB0aGlzLm9ic2VydmVJbWFnZQogICAgfSk7IC8vIDIu55uR5ZCs5rua5Yqo55qE5L2N572uCgogICAgaWYgKHRoaXMucHJvYmVUeXBlID09PSAyIHx8IHRoaXMucHJvYmVUeXBlID09PSAzKSB7CiAgICAgIHRoaXMuc2Nyb2xsLm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhwb3NpdGlvbikKICAgICAgICBfdGhpcy4kZW1pdCgnc2Nyb2xsJywgcG9zaXRpb24pOwogICAgICB9KTsKICAgIH0gLy8gMy7nm5HlkKxzY3JvbGzmmK/lkKbmu5rliqjliLDlupXpg6gKCgogICAgaWYgKHRoaXMucHVsbFVwTG9hZCkgewogICAgICAvLyBwdWxsVXBMb2Fk5Li6dHJ1ZeaXtu+8jOWIsOi+vuW6lemDqO+8jOS4umZhbHNl55qE57uE5Lu25LiN55So55uR5ZCs5q2k5LqL5Lu277yM5o+Q5Y2H5pWI546HCiAgICAgIHRoaXMuc2Nyb2xsLm9uKCdwdWxsaW5nVXAnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ2JvdHRvbScpOyDliLDovr7lupXpg6jml7bmiY3op6blj5Hlh73mlbAKICAgICAgICBfdGhpcy4kZW1pdCgncHVsbGluZ1VwJyk7CiAgICAgIH0pOwogICAgfSAvLyB9LDEwMDApCgogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgIHNldFRpbWVvdXQodGhpcy5yZWZyZXNoLCAzMCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzY3JvbGxUbzogZnVuY3Rpb24gc2Nyb2xsVG8oeCwgeSkgewogICAgICB2YXIgdGltZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTAwMDsKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuc2Nyb2xsVG8oeCwgeSwgdGltZSk7CiAgICB9LAogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgY29uc29sZS5sb2coJy0tLS0nKTsgLy8g5qOA5rWL5Yiw5Yi35paw55qE5qyh5pWwCgogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5yZWZyZXNoKCk7CiAgICB9LAogICAgZmluaXNoUHVsbFVwOiBmdW5jdGlvbiBmaW5pc2hQdWxsVXAoKSB7CiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLmZpbmlzaFB1bGxVcCgpOwogICAgfSwKICAgIGdldFNjcm9sbFk6IGZ1bmN0aW9uIGdldFNjcm9sbFkoKSB7CiAgICAgIC8vIOW+l+WIsOa7muWKqOeahHnovbTnmoTkvY3nva4KICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsID8gdGhpcy5zY3JvbGwueSA6IDA7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Scroll.vue"],"names":[],"mappings":";;;;;;;;;;AASA,OAAA,OAAA,MAAA,eAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,iBAAA;AAFA,KADA;AAKA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,iBAAA;AAFA,KALA;AASA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,iBAAA;AAFA,KATA;AAaA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,iBAAA;AAFA,KAbA;AAiBA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAAA,qCAEA;AACA,eAAA,EAAA;AACA;AAJA;AAjBA,GAFA;AA0BA,EAAA,IA1BA,kBA0BA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GA9BA;AA+BA,EAAA,OA/BA,qBA+BA;AAAA;;AACA;AACA;AACA,SAAA,MAAA,GAAA,IAAA,OAAA,CAAA,KAAA,KAAA,CAAA,OAAA,EAAA;AACA,MAAA,KAAA,EAAA,IADA;;AACA;AACA,MAAA,SAAA,EAAA,KAAA,SAFA;AAGA,MAAA,UAAA,EAAA,KAAA,UAHA;AAIA,MAAA,UAAA,EAAA,KAAA,UAJA;AAKA;AACA,MAAA,YAAA,EAAA,KAAA;AANA,KAAA,CAAA,CAHA,CAWA;;AACA,QAAA,KAAA,SAAA,KAAA,CAAA,IAAA,KAAA,SAAA,KAAA,CAAA,EAAA;AACA,WAAA,MAAA,CAAA,EAAA,CAAA,QAAA,EAAA,UAAA,QAAA,EAAA;AACA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,QAAA,EAAA,QAAA;AACA,OAHA;AAIA,KAjBA,CAkBA;;;AACA,QAAA,KAAA,UAAA,EAAA;AAAA;AACA,WAAA,MAAA,CAAA,EAAA,CAAA,WAAA,EAAA,YAAA;AACA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,WAAA;AACA,OAHA;AAIA,KAxBA,CAyBA;;AACA,GAzDA;AA0DA,EAAA,KAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,MAAA,UAAA,CAAA,KAAA,OAAA,EAAA,EAAA,CAAA;AACA;AAHA,GA1DA;AA+DA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,CADA,EACA,CADA,EACA;AAAA,UAAA,IAAA,uEAAA,IAAA;AACA,WAAA,MAAA,IAAA,KAAA,MAAA,CAAA,QAAA,CAAA,CAAA,EAAA,CAAA,EAAA,IAAA,CAAA;AACA,KAHA;AAIA,IAAA,OAJA,qBAIA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EADA,CACA;;AACA,WAAA,MAAA,IAAA,KAAA,MAAA,CAAA,OAAA,EAAA;AACA,KAPA;AAQA,IAAA,YARA,0BAQA;AACA,WAAA,MAAA,IAAA,KAAA,MAAA,CAAA,YAAA,EAAA;AACA,KAVA;AAWA,IAAA,UAXA,wBAWA;AACA;AACA,aAAA,KAAA,MAAA,GAAA,KAAA,MAAA,CAAA,CAAA,GAAA,CAAA;AACA;AAdA;AA/DA,CAAA","sourcesContent":["<template>\r\n    <div class=\"wrapper\" ref=\"wrapper\">\r\n        <div class=\"content\">\r\n            <slot></slot> <!-- 插槽就是将主页里<sroll>的内容替换过来 -->\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport BScroll from 'better-scroll'\r\nexport default {\r\n  name: 'Scroll',\r\n  props: {\r\n    probeType: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    pullUpLoad: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    observeDOM: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    observeImage: {\r\n      type: Boolean,\r\n      default:false\r\n    },\r\n    data: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      scroll: null\r\n    }\r\n  },\r\n  mounted () {\r\n      // setTimeout(() => { 图片加载完成后再滚动就不用定时器了\r\n        // 1.创建BScroll对象\r\n        this.scroll = new BScroll(this.$refs.wrapper,{\r\n          click: true, /* div等元素想要被点击，必须设置click */\r\n          probeType: this.probeType,\r\n          pullUpLoad: this.pullUpLoad,\r\n          observeDOM: this.observeDOM,\r\n          // 等页面图片加载完之后，刷新content高度\r\n          observeImage: this.observeImage\r\n        })\r\n        // 2.监听滚动的位置\r\n        if(this.probeType===2 || this.probeType===3){\r\n          this.scroll.on('scroll', position => {\r\n          // console.log(position)\r\n          this.$emit('scroll',position)\r\n        })\r\n        }\r\n      // 3.监听scroll是否滚动到底部\r\n      if(this.pullUpLoad){ // pullUpLoad为true时，到达底部，为false的组件不用监听此事件，提升效率\r\n        this.scroll.on('pullingUp',()=>{\r\n          // console.log('bottom'); 到达底部时才触发函数\r\n          this.$emit('pullingUp')\r\n      })\r\n      }\r\n      // },1000)\r\n  },\r\n  watch: {\r\n    data () {\r\n      setTimeout(this.refresh,30)\r\n    }\r\n  },\r\n  methods: {\r\n    scrollTo(x,y,time=1000){\r\n      this.scroll && this.scroll.scrollTo(x,y,time)\r\n    },\r\n    refresh () {\r\n      console.log('----'); // 检测到刷新的次数\r\n      this.scroll && this.scroll.refresh()\r\n    },\r\n    finishPullUp(){\r\n      this.scroll && this.scroll.finishPullUp()\r\n    },\r\n    getScrollY () {\r\n      // 得到滚动的y轴的位置\r\n      return this.scroll ? this.scroll.y : 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components/common/scroll"}]}