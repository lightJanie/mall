{"remainingRequest":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/src/views/detail/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/src/views/detail/Detail.vue","mtime":1622267426000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRGV0YWlsTmF2QmFyIGZyb20gJy4vY2hpbGRDb21wcy9EZXRhaWxOYXZCYXInDQppbXBvcnQgRGV0YWlsU3dpcGVyIGZyb20gJy4vY2hpbGRDb21wcy9EZXRhaWxTd2lwZXInDQppbXBvcnQgRGV0YWlsQmFzZUluZm8gZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbEJhc2VJbmZvJw0KaW1wb3J0IERldGFpbFNob3BJbmZvIGZyb20gJy4vY2hpbGRDb21wcy9EZXRhaWxTaG9wSW5mbycNCmltcG9ydCBEZXRhaWxHb29kc0luZm8gZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbEdvb2RzSW5mbycNCmltcG9ydCBEZXRhaWxQYXJhbUluZm8gZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbFBhcmFtSW5mbycNCmltcG9ydCBEZXRhaWxDb21tZW50SW5mbyBmcm9tICcuL2NoaWxkQ29tcHMvRGV0YWlsQ29tbWVudEluZm8nDQppbXBvcnQgRGV0YWlsQm90dG9tQmFyIGZyb20gJy4vY2hpbGRDb21wcy9EZXRhaWxCb3R0b21CYXInDQoNCmltcG9ydCBTY3JvbGwgZnJvbSAnY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL1Njcm9sbCcNCmltcG9ydCBHb29kc0xpc3QgZnJvbSAnY29tcG9uZW50cy9jb250ZW50L2dvb2RzL0dvb2RzTGlzdCcNCi8vIGltcG9ydCBCYWNrVG9wIGZyb20gJ2NvbXBvbmVudHMvY29udGVudC9iYWNrVG9wL0JhY2tUb3AnIOWwgeijhei/m21peGluDQovLyBpbXBvcnQgVG9hc3QgZnJvbSAnY29tcG9uZW50cy9jb21tb24vdG9hc3QvVG9hc3QnDQoNCmltcG9ydCB7Z2V0RGV0YWlsLEdvb2RzLFNob3AsR29vZHNQYXJhbSxnZXRSZWNvbW1lbmR9IGZyb20gJ25ldHdvcmsvZGV0YWlsLmpzJw0KaW1wb3J0IHtkZWJvdW5jZX0gZnJvbSAnY29tbW9uL3V0aWxzLmpzJw0KaW1wb3J0IHtpdGVtTGlzdGVuZXJNaXhpbiwgYmFja1RvcE1peGlufSBmcm9tICdjb21tb24vbWl4aW4uanMnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdEZXRhaWwnLA0KICBjb21wb25lbnRzOiB7DQogICAgRGV0YWlsTmF2QmFyLA0KICAgIERldGFpbFN3aXBlciwNCiAgICBEZXRhaWxCYXNlSW5mbywNCiAgICBEZXRhaWxTaG9wSW5mbywNCiAgICBTY3JvbGwsDQogICAgRGV0YWlsR29vZHNJbmZvLA0KICAgIERldGFpbFBhcmFtSW5mbywNCiAgICBEZXRhaWxDb21tZW50SW5mbywNCiAgICBHb29kc0xpc3QsDQogICAgRGV0YWlsQm90dG9tQmFyLA0KICAgIC8vIFRvYXN0DQogIH0sDQogIC8vIOWIqeeUqOa3t+WQiOWvvOWFpeS6huWbvueJh+WKoOi9veS6i+S7tuebkeWQrO+8jOWPr+S7o+abv+S4i+mdom1vdW50ZWTkuK3nmoTku6PnoIENCiAgLy8g6L+Y5Y+v5bCG6Ziy5oqW5Ye95pWw5L+d5a2Y5ZyoZGF0YeS4re+8jOWwseWPr+S9v+W+l+e7hOS7tuS4reS7u+aEj+S9jee9rumDveiDveS9v+eUqOmYsuaKluWHveaVsA0KICBtaXhpbnM6IFtpdGVtTGlzdGVuZXJNaXhpbiwgYmFja1RvcE1peGluXSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlpZDogbnVsbCwNCiAgICAgIHRvcEltYWdlczogW10sDQogICAgICBnb29kczoge30sDQogICAgICBzaG9wOiB7fSwNCiAgICAgIGRldGFpbEluZm86IHt9LA0KICAgICAgcGFyYW1JbmZvOiB7fSwNCiAgICAgIGNvbW1lbnRJbmZvOiB7fSwNCiAgICAgIHJlY29tbWVuZHM6IFtdLA0KICAgICAgLy8gaXRlbUltZ0xpc3RlbmVyOiBudWxsIOmAmui/h+a3t+WFpeWvvOWFpQ0KICAgICAgdG9wWXM6IFtdLA0KICAgICAgZ2V0VG9wWXM6IG51bGwsDQogICAgICBjdXJyZW50SW5kZXg6IDAsDQogICAgICAvLyBzaG93VG9wOiBmYWxzZSDlsIHoo4Xov5vmt7flhaVtaXhpbumHjA0KICAgICAgLy8gbWVzc2FnZTogJycsDQogICAgICAvLyBpc1Nob3c6IGZhbHNlDQogICAgfQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICAvLyAxLuS/neWtmOS8oOWFpeeahGlkDQogICAgdGhpcy5paWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWlkDQogICAgLy8gMi7moLnmja5pZOivt+axguaVsOaNrg0KICAgIGdldERldGFpbCh0aGlzLmlpZCkudGhlbihyZXMgPT4gew0KICAgICAgY29uc3QgZGF0YSA9IHJlcy5yZXN1bHQNCiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgLy8gMS7ojrflj5bpobblm77nmoTova7mkq3lm74NCiAgICAgIHRoaXMudG9wSW1hZ2VzID0gZGF0YS5pdGVtSW5mby50b3BJbWFnZXMNCiAgICAgIC8vIDIu6I635Y+W5ZWG5ZOB5L+h5oGvDQogICAgICB0aGlzLmdvb2RzID0gbmV3IEdvb2RzKGRhdGEuaXRlbUluZm8sZGF0YS5jb2x1bW5zLGRhdGEuc2hvcEluZm8uc2VydmljZXMpDQogICAgICAvLyAzLuiOt+WPluW6l+mTuuS/oeaBrw0KICAgICAgdGhpcy5zaG9wID0gbmV3IFNob3AoZGF0YS5zaG9wSW5mbykNCiAgICAgIC8vIDQuIOiOt+WPluWVhuWTgeeahOivpue7huS/oeaBrw0KICAgICAgdGhpcy5kZXRhaWxJbmZvID0gZGF0YS5kZXRhaWxJbmZvDQogICAgICAvLyA1LiDojrflj5bllYblk4Hlj4LmlbDkv6Hmga8NCiAgICAgIHRoaXMucGFyYW1JbmZvID0gbmV3IEdvb2RzUGFyYW0oZGF0YS5pdGVtUGFyYW1zLmluZm8sZGF0YS5pdGVtUGFyYW1zLnJ1bGUpDQogICAgICAvLyA2LiDojrflj5bor4Torrrkv6Hmga8NCiAgICAgIGlmKGRhdGEucmF0ZS5jUmF0ZSAhPT0gMCl7DQogICAgICAgIHRoaXMuY29tbWVudEluZm8gPSBkYXRhLnJhdGUubGlzdFswXQ0KICAgICAgfQ0KICAgIH0pDQogICAgLy8gMy4g6K+35rGC5o6o6I2Q5pWw5o2uDQogICAgZ2V0UmVjb21tZW5kKCkudGhlbihyZXMgPT4gew0KICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsNCiAgICAgIHRoaXMucmVjb21tZW5kcyA9IHJlcy5kYXRhLmxpc3QNCiAgICB9KQ0KICAgIC8vIHRoaXMuJG5leHRUaWNrKCgpID0+IHsgLy8g5LiL5LiA5bin77yM5q2k5Ye95pWw5Lya562J5Yiw57uE5Lu2ZG9t5riy5p+T5a6M5ZCO5YaN6LCD55So77yM5L2G57uE5Lu25Lit55qE5Zu+54mH5bm25LiN5LiA5a6a5Yqg6L295a6M5YWoDQogICAgLy8gICB0aGlzLnRvcFlzID0gW10gIC8vIOW+l+WIsOeahG9mZnNldFRvcOWAvOS4jeWHhuehru+8jOWkp+WkmuaVsOmDveaYr+WboOS4uuWbvueJh+acquWKoOi9veeahOmXrumimA0KICAgIC8vICAgdGhpcy50b3BZcy5wdXNoKDApDQogICAgLy8gICB0aGlzLnRvcFlzLnB1c2godGhpcy4kcmVmcy5wYXJhbXMuJGVsLm9mZnNldFRvcCkNCiAgICAvLyAgIHRoaXMudG9wWXMucHVzaCh0aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCkNCiAgICAvLyAgIHRoaXMudG9wWXMucHVzaCh0aGlzLiRyZWZzLnJlY29tbWVuZC4kZWwub2Zmc2V0VG9wKQ0KICAgIC8vIH0pDQogICAgLy8gNC4g5Li6dG9wWXPorr7nva7pmLLmipYNCiAgICB0aGlzLmdldFRvcFlzID0gZGVib3VuY2UoKCkgPT4gew0KICAgICAgdGhpcy50b3BZcyA9IFtdDQogICAgICB0aGlzLnRvcFlzLnB1c2goMCkNCiAgICAgIHRoaXMudG9wWXMucHVzaCh0aGlzLiRyZWZzLnBhcmFtcy4kZWwub2Zmc2V0VG9wKQ0KICAgICAgdGhpcy50b3BZcy5wdXNoKHRoaXMuJHJlZnMuY29tbWVudC4kZWwub2Zmc2V0VG9wKQ0KICAgICAgdGhpcy50b3BZcy5wdXNoKHRoaXMuJHJlZnMucmVjb21tZW5kLiRlbC5vZmZzZXRUb3ApDQogICAgICB0aGlzLnRvcFlzLnB1c2goTnVtYmVyLk1BWF9WQUxVRSkgLy8g5Zyo5pWw57uE5pyr5bC+5aKe5Yqg5LiA5Liq5peg6ZmQ5aSn55qE5YC877yM5Li65LqG5LmL5ZCO5a+55pWw57uE5YGa6YGN5Y6GDQogICAgICBjb25zb2xlLmxvZyh0aGlzLnRvcFlzKQ0KICAgIH0sMTAwKQ0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICAvLyDliKnnlKhtaXhpbua3t+WFpeWQju+8jOS7o+abv+S6huS4i+mdoueahOS7o+eggQ0KICAgICAgLy8gY29uc3QgcmVmcmVzaCA9IGRlYm91bmNlKHRoaXMuJHJlZnMuc2Nyb2xsLnJlZnJlc2gsNTApDQogICAgICAvLyB0aGlzLml0ZW1JbWdMaXN0ZW5lciA9ICgpID0+IHsgcmVmcmVzaCgpIH0NCiAgICAgIC8vIC8vIOWcqOatpOe7hOS7tuS4reebkeWQrGl0ZW1JbWFnZUxvYWTlm77niYfliqDovb3kuovku7YNCiAgICAgIC8vIHRoaXMuJGJ1cy4kb24oJ2l0ZW1JbWFnZUxvYWQnLCB0aGlzLml0ZW1JbWdMaXN0ZW5lcikNCiAgICAgIC8vIHRoaXMudG9wWXMgPSBbXSAgLy8g5Yi35paw77yM5ZCm5YiZ5Lya6YeN5aSN5re75Yqg6L+b5YWlDQogICAgICAvLyB0aGlzLnRvcFlzLnB1c2goMCkNCiAgICAgIC8vIHRoaXMudG9wWXMucHVzaCh0aGlzLiRyZWZzLnBhcmFtcy4kZWwub2Zmc2V0VG9wKSAvLyDojrflj5bliLDlj4LmlbDnu4Tku7blhYPntKAkZWznmoRvZmZzZXRUb3ANCiAgICAgIC8vIHRoaXMudG9wWXMucHVzaCh0aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCkNCiAgICAgIC8vIHRoaXMudG9wWXMucHVzaCh0aGlzLiRyZWZzLnJlY29tbWVuZC4kZWwub2Zmc2V0VG9wKQ0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy50b3BZcyk7ICAvLyBtb3VudGVkKCnkuK3mnKrlvpfliLDmlbDmja4NCiAgICB9LA0KICAgIHVwZGF0ZWQgKCkgew0KICAgICAgLy8g5Zyo5b6X5Yiw5pWw5o2u5ZCO5Lya5omn6KGMdXBkYXRlZO+8jOWvuemhtemdoui/m+ihjOabtOaWsO+8jOWPquimgeaVsOaNruWPmOWMluWwseS8muabtOaWsA0KICAgICAgLy8g6I635b6X55qEb2Zmc2V0VG9w5YC85Lmf5LiN5YeG56GuDQogICAgICAvLyB0aGlzLnRvcFlzID0gW10gIC8vIOWIt+aWsO+8jOWQpuWImeS8mumHjeWkjea3u+WKoOi/m+WFpQ0KICAgICAgLy8gdGhpcy50b3BZcy5wdXNoKDApDQogICAgICAvLyB0aGlzLnRvcFlzLnB1c2godGhpcy4kcmVmcy5wYXJhbXMuJGVsLm9mZnNldFRvcCkgLy8g6I635Y+W5Yiw5Y+C5pWw57uE5Lu25YWD57SgJGVs55qEb2Zmc2V0VG9wDQogICAgICAvLyB0aGlzLnRvcFlzLnB1c2godGhpcy4kcmVmcy5jb21tZW50LiRlbC5vZmZzZXRUb3ApDQogICAgICAvLyB0aGlzLnRvcFlzLnB1c2godGhpcy4kcmVmcy5yZWNvbW1lbmQuJGVsLm9mZnNldFRvcCkNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudG9wWXMpOw0KICAgIH0sDQogIGRlc3Ryb3llZCAoKSB7DQogICAgLy8g56a75byA57uE5Lu25pe25Y+W5raI5Zu+54mH5Yqg6L2955uR5ZCs5LqL5Lu2DQogICAgdGhpcy4kYnVzLiRvZmYoJ2l0ZW1JbWFnZUxvYWQnLCB0aGlzLml0ZW1JbWdMaXN0ZW5lcikNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGltZ0xvYWQgKCkgew0KICAgICAgLy8gY29uc29sZS5sb2coJy8vLy8vJyk7IOiAgeW4iOi/memHjOS8muWIt+aWsOWkmuasoe+8jOS9huaIkei/memHjOWPquWIt+aWsOS4gOasoQ0KICAgICAgdGhpcy4kcmVmcy5zY3JvbGwucmVmcmVzaCgpDQogICAgICB0aGlzLmdldFRvcFlzKCkNCiAgICAgIC8vIHRoaXMudG9wWXMgPSBbXQ0KICAgICAgLy8gdGhpcy50b3BZcy5wdXNoKDApDQogICAgICAvLyB0aGlzLnRvcFlzLnB1c2godGhpcy4kcmVmcy5wYXJhbXMuJGVsLm9mZnNldFRvcCkNCiAgICAgIC8vIHRoaXMudG9wWXMucHVzaCh0aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCkNCiAgICAgIC8vIHRoaXMudG9wWXMucHVzaCh0aGlzLiRyZWZzLnJlY29tbWVuZC4kZWwub2Zmc2V0VG9wKQ0KICAgICAgLy8gY29uc29sZS5sb2coJz09PT09JykgLy/ogIHluIjov5nph4zkvJrliLfmlrDlpJrmrKHvvIzkvYbmiJHov5nph4zlj6rliLfmlrDkuIDmrKENCiAgICB9LA0KICAgIGNsaWNrVGl0bGUgKGluZGV4KSB7DQogICAgICAvLyBjb25zb2xlLmxvZyhpbmRleCk7DQogICAgICB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGxUbygwLC10aGlzLnRvcFlzW2luZGV4XSwxMDAwKQ0KICAgIH0sDQogICAgY29udGVudFNjcm9sbCAocG9zaXRpb24pIHsgLy8g5qC55o2uc2Nyb2xs57uE5Lu25Y+R5Ye655qEc2Nyb2xs5LqL5Lu277yM6I635Y+W5YiwcG9zaXRpb27lgLwNCiAgICAvLyAxLuiOt+WPlnnlgLwNCiAgICAgIGNvbnN0IHBvc2l0aW9uWSA9IC0gcG9zaXRpb24ueQ0KICAgICAgLy8gMi7lsIZ55YC85LiO57uE5Lu25YaF5a656auY5bqm5YGa5a+55q+UDQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRvcFlzWzBdKTsgLy8g6L+Z6YeM5pivdW5kZWZpbmVk77yM5b6X5LiN5Yiw5a6D55qE5YC877yM5bm25LiU5Y2z5L2/5b6X5Yiw5LqG5Lmf5bqU6K+l5Li66LSf5YC877yMDQogICAgICAvLyBjb25zb2xlLmxvZyhwb3NpdGlvblkpOw0KICAgICAgbGV0IGxlbmd0aCA9IHRoaXMudG9wWXMubGVuZ3RoDQogICAgICAvLyBmb3IobGV0IGkgaW4gdGhpcy50b3BZcykgIOatpOaWueazleiOt+WPlueahCBp5Li65a2X56ym5LiyIOimgeeUqHBhcnNlSW50KGkpIOaIluiAhSBpKjEg55qE5pa55rOV5bCG5YW26L2s5Li65pWw5YC8DQogICAgICAvLyBmb3IobGV0IGk9MDtpPGxlbmd0aDtpKyspew0KICAgICAgICAvLyBpZih0aGlzLnRvcFlzW2ldLnBvc2l0aW9uWSA+PTAgJiYgdGhpcy50b3BZc1tpXS5wb3NpdGlvblkgPCB0aGlzLnRvcFlzW2krMV0ucG9zaXRpb25ZKQ0KICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLnRvcFlzW2ldKTsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudG9wWXMubGVuZ3RoKTsNCiAgICAgIC8vIDEu5pmu6YCa5YGa5rOVDQogICAgICAgIC8vIGlmKHRoaXMuY3VycmVudEluZGV4ICE9PSBpICYmICgoaSA8IGxlbmd0aCAtMSAmJiBwb3NpdGlvblkgPj0gdGhpcy50b3BZc1tpXSAmJiBwb3NpdGlvblkgPCB0aGlzLnRvcFlzW2krMV0pIHx8IChpID09PSBsZW5ndGggLTEgJiYgcG9zaXRpb25ZID49IHRoaXMudG9wWXNbaV0pKSl7DQogICAgICAgIC8vIDIuaGFja+WBmuazle+8jOWcqOaVsOe7hOWQjumdouWKoOS4gOS4quaXoOmZkOWkp+eahOWAvO+8jOW5tuS4lOmBjeWOhuaXtuWPqumBjeWOhuWIsCBpPGxlbmd0aC0xDQogICAgICAgIGZvcihsZXQgaT0wO2k8bGVuZ3RoLTE7aSsrKXsNCiAgICAgICAgICBpZih0aGlzLmN1cnJlbnRJbmRleCAhPT0gaSAmJiAoaTxsZW5ndGgtMSAmJiBwb3NpdGlvblkgPj0gdGhpcy50b3BZc1tpXSAmJiBwb3NpdGlvblkgPCB0aGlzLnRvcFlzW2krMV0pKXsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaQ0KICAgICAgICAgIGNvbnNvbGUubG9nKGkpOyAvLyDlm6DkuLrmraTml7bmiZPljbDpnZ7luLjpopHnuYHvvIzmiYDku6XlsIblvZPliY1pbmRleOS/neWtmOS4uuS4gOS4quWPmOmHj++8jOWcqOS4pOS4quS4jeetieeahOaDheWGteS4i+aJjeaJk+WNsO+8jOWwseS4jeS8muW+iOmikee5gQ0KICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudG9wWXNbaV0pOyAvLyDmraTlpITnmoTlgLzmmK/mraPlgLwNCiAgICAgICAgICB0aGlzLiRyZWZzLm5hdi5jdXJyZW50SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleA0KICAgICAgICB9DQogICAgICB9DQogICAgICAvLyDmmK/lkKbmmL7npLrlm57liLDlupXpg6jmjInpkq7nmoTliKTmlq0NCiAgICAgIHRoaXMuc2hvd1RvcCA9IHBvc2l0aW9uWSA+IDEwMDANCiAgICB9LA0KICAgIC8vIOWwgeijheWIsOa3t+WFpW1peGlu6YeMDQogICAgICAvLyBiYWNrVG9wICgpIHsNCiAgICAgIC8vICAgdGhpcy4kcmVmcy5zY3JvbGwuc2Nyb2xsVG8oMCwwKQ0KICAgICAgLy8gfQ0KICAgIGFkZFRvQ2FydCAoKSB7DQogICAgICAvLyAxLuiOt+WPlui0reeJqei9pumcgOimgeWxleekuueahOS/oeaBr++8jOWboOS4uuacieWkmuS4quS/oeaBr++8jOaJgOS7peWPr+S7peaUvuWcqOS4gOS4quWvueixoemHjA0KICAgICAgY29uc3QgcHJvZHVjdCA9IHt9DQogICAgICBwcm9kdWN0LmltYWdlID0gdGhpcy50b3BJbWFnZXNbMF0NCiAgICAgIHByb2R1Y3QudGl0bGUgPSB0aGlzLmdvb2RzLnRpdGxlDQogICAgICBwcm9kdWN0LmRlc2MgPSB0aGlzLmdvb2RzLmRlc2MNCiAgICAgIHByb2R1Y3QucHJpY2UgPSB0aGlzLmdvb2RzLnJlYWxQcmljZQ0KICAgICAgcHJvZHVjdC5paWQgPSB0aGlzLmlpZCAvLyBpZOS4gOWumuimgeS8oO+8jOWboOS4umlk5piv5ZWG5ZOB55qE5ZSv5LiA5qCH6K+G77yM5piv5bCGaWTkvKDnu5nmnI3liqHlmajojrflj5bliLDlr7nlupTnmoTllYblk4ENCg0KICAgICAgLy8gMi7lsIbllYblk4Hmt7vliqDliLDotK3nianovabph4wNCiAgICAgIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkQ2FydCcscHJvZHVjdCkgY29tbWl05piv5bCGcHJvZHVjdOaPkOS6pOWIsHN0b3Jl5LitbXV0YXRpb25z6YeM55qE5pa55rOVYWRkQ2FydA0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FkZENhcnQnLHByb2R1Y3QpICAvLyBkaXNwYXRjaOaYr+aPkOS6pOWIsGFjdGlvbnPph4zljrvvvIzlho3nlLFhY3Rpb25z5YiG5Y+RY29tbWl05YiwbXV0YXRpb25z6YeM5LiN5ZCM55qE5pa55rOV5Lit5Y67DQogICAgICAvLyAzLuWmguaenOa3u+WKoOi0reeJqei9puaIkOWKn++8iOeUqHByb21pc2Xnm5Hop4bmiJDlip/kuI7lkKbvvIkNCiAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgIC8vIHRoaXMuaXNTaG93ID0gdHJ1ZQ0KICAgICAgICAvLyB0aGlzLm1lc3NhZ2UgPSByZXMNCiAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIC8vICAgdGhpcy5pc1Nob3cgPSBmYWxzZQ0KICAgICAgICAvLyB9LDEwMDApDQogICAgICAgIHRoaXMuJHRvYXN0LnNob3cocmVzLDEwMDApDQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\r\n    <div id=\"detail\">\r\n        <detail-nav-bar ref=\"nav\" @clickTitle='clickTitle'></detail-nav-bar>\r\n        <!-- <div>{{$store.state.cartList.length}}</div> 检测是否成功加入购物车 -->\r\n        <!-- <ul>\r\n          <li v-for=\"(item,index) in $store.state.cartList\" :key=\"index\">\r\n            {{item}}\r\n          </li>\r\n        </ul> -->\r\n        <scroll class=\"content\"\r\n        ref='scroll'\r\n        @scroll='contentScroll'\r\n        :probe-type='3'\r\n        :observeImage='true'>\r\n        <!-- 虽然属性名是用的驼峰，但传属性时，用的-分隔，\r\n        因为html标签中不区分大小写，用驼峰topImg命名就相当于topimg，就会找不到\r\n        事件不用，能区分 -->\r\n          <detail-swiper :top-images='topImages'></detail-swiper>\r\n          <detail-base-info :goods='goods'></detail-base-info>\r\n          <detail-shop-info :shop='shop'></detail-shop-info>\r\n          <detail-goods-info :detail-info='detailInfo' @imgLoad='imgLoad'></detail-goods-info>\r\n          <detail-param-info ref=\"params\" :param-info='paramInfo'></detail-param-info>\r\n          <detail-comment-info ref=\"comment\" :comment-info='commentInfo'></detail-comment-info>\r\n          <goods-list ref=\"recommend\" :goods='recommends'></goods-list>\r\n        </scroll>\r\n        <detail-bottom-bar @addCart='addToCart'></detail-bottom-bar>\r\n        <back-top v-show='showTop' @click.native=\"backTop\"></back-top>\r\n        <!-- <toast :message='message' :isShow='isShow'/> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport DetailNavBar from './childComps/DetailNavBar'\r\nimport DetailSwiper from './childComps/DetailSwiper'\r\nimport DetailBaseInfo from './childComps/DetailBaseInfo'\r\nimport DetailShopInfo from './childComps/DetailShopInfo'\r\nimport DetailGoodsInfo from './childComps/DetailGoodsInfo'\r\nimport DetailParamInfo from './childComps/DetailParamInfo'\r\nimport DetailCommentInfo from './childComps/DetailCommentInfo'\r\nimport DetailBottomBar from './childComps/DetailBottomBar'\r\n\r\nimport Scroll from 'components/common/scroll/Scroll'\r\nimport GoodsList from 'components/content/goods/GoodsList'\r\n// import BackTop from 'components/content/backTop/BackTop' 封装进mixin\r\n// import Toast from 'components/common/toast/Toast'\r\n\r\nimport {getDetail,Goods,Shop,GoodsParam,getRecommend} from 'network/detail.js'\r\nimport {debounce} from 'common/utils.js'\r\nimport {itemListenerMixin, backTopMixin} from 'common/mixin.js'\r\nexport default {\r\n  name: 'Detail',\r\n  components: {\r\n    DetailNavBar,\r\n    DetailSwiper,\r\n    DetailBaseInfo,\r\n    DetailShopInfo,\r\n    Scroll,\r\n    DetailGoodsInfo,\r\n    DetailParamInfo,\r\n    DetailCommentInfo,\r\n    GoodsList,\r\n    DetailBottomBar,\r\n    // Toast\r\n  },\r\n  // 利用混合导入了图片加载事件监听，可代替下面mounted中的代码\r\n  // 还可将防抖函数保存在data中，就可使得组件中任意位置都能使用防抖函数\r\n  mixins: [itemListenerMixin, backTopMixin],\r\n  data () {\r\n    return {\r\n      iid: null,\r\n      topImages: [],\r\n      goods: {},\r\n      shop: {},\r\n      detailInfo: {},\r\n      paramInfo: {},\r\n      commentInfo: {},\r\n      recommends: [],\r\n      // itemImgListener: null 通过混入导入\r\n      topYs: [],\r\n      getTopYs: null,\r\n      currentIndex: 0,\r\n      // showTop: false 封装进混入mixin里\r\n      // message: '',\r\n      // isShow: false\r\n    }\r\n  },\r\n  created () {\r\n    // 1.保存传入的id\r\n    this.iid = this.$route.params.iid\r\n    // 2.根据id请求数据\r\n    getDetail(this.iid).then(res => {\r\n      const data = res.result\r\n      // console.log(data);\r\n      // 1.获取顶图的轮播图\r\n      this.topImages = data.itemInfo.topImages\r\n      // 2.获取商品信息\r\n      this.goods = new Goods(data.itemInfo,data.columns,data.shopInfo.services)\r\n      // 3.获取店铺信息\r\n      this.shop = new Shop(data.shopInfo)\r\n      // 4. 获取商品的详细信息\r\n      this.detailInfo = data.detailInfo\r\n      // 5. 获取商品参数信息\r\n      this.paramInfo = new GoodsParam(data.itemParams.info,data.itemParams.rule)\r\n      // 6. 获取评论信息\r\n      if(data.rate.cRate !== 0){\r\n        this.commentInfo = data.rate.list[0]\r\n      }\r\n    })\r\n    // 3. 请求推荐数据\r\n    getRecommend().then(res => {\r\n      // console.log(res);\r\n      this.recommends = res.data.list\r\n    })\r\n    // this.$nextTick(() => { // 下一帧，此函数会等到组件dom渲染完后再调用，但组件中的图片并不一定加载完全\r\n    //   this.topYs = []  // 得到的offsetTop值不准确，大多数都是因为图片未加载的问题\r\n    //   this.topYs.push(0)\r\n    //   this.topYs.push(this.$refs.params.$el.offsetTop)\r\n    //   this.topYs.push(this.$refs.comment.$el.offsetTop)\r\n    //   this.topYs.push(this.$refs.recommend.$el.offsetTop)\r\n    // })\r\n    // 4. 为topYs设置防抖\r\n    this.getTopYs = debounce(() => {\r\n      this.topYs = []\r\n      this.topYs.push(0)\r\n      this.topYs.push(this.$refs.params.$el.offsetTop)\r\n      this.topYs.push(this.$refs.comment.$el.offsetTop)\r\n      this.topYs.push(this.$refs.recommend.$el.offsetTop)\r\n      this.topYs.push(Number.MAX_VALUE) // 在数组末尾增加一个无限大的值，为了之后对数组做遍历\r\n      console.log(this.topYs)\r\n    },100)\r\n  },\r\n  mounted () {\r\n    // 利用mixin混入后，代替了下面的代码\r\n      // const refresh = debounce(this.$refs.scroll.refresh,50)\r\n      // this.itemImgListener = () => { refresh() }\r\n      // // 在此组件中监听itemImageLoad图片加载事件\r\n      // this.$bus.$on('itemImageLoad', this.itemImgListener)\r\n      // this.topYs = []  // 刷新，否则会重复添加进入\r\n      // this.topYs.push(0)\r\n      // this.topYs.push(this.$refs.params.$el.offsetTop) // 获取到参数组件元素$el的offsetTop\r\n      // this.topYs.push(this.$refs.comment.$el.offsetTop)\r\n      // this.topYs.push(this.$refs.recommend.$el.offsetTop)\r\n      // console.log(this.topYs);  // mounted()中未得到数据\r\n    },\r\n    updated () {\r\n      // 在得到数据后会执行updated，对页面进行更新，只要数据变化就会更新\r\n      // 获得的offsetTop值也不准确\r\n      // this.topYs = []  // 刷新，否则会重复添加进入\r\n      // this.topYs.push(0)\r\n      // this.topYs.push(this.$refs.params.$el.offsetTop) // 获取到参数组件元素$el的offsetTop\r\n      // this.topYs.push(this.$refs.comment.$el.offsetTop)\r\n      // this.topYs.push(this.$refs.recommend.$el.offsetTop)\r\n      // console.log(this.topYs);\r\n    },\r\n  destroyed () {\r\n    // 离开组件时取消图片加载监听事件\r\n    this.$bus.$off('itemImageLoad', this.itemImgListener)\r\n  },\r\n  methods: {\r\n    imgLoad () {\r\n      // console.log('/////'); 老师这里会刷新多次，但我这里只刷新一次\r\n      this.$refs.scroll.refresh()\r\n      this.getTopYs()\r\n      // this.topYs = []\r\n      // this.topYs.push(0)\r\n      // this.topYs.push(this.$refs.params.$el.offsetTop)\r\n      // this.topYs.push(this.$refs.comment.$el.offsetTop)\r\n      // this.topYs.push(this.$refs.recommend.$el.offsetTop)\r\n      // console.log('=====') //老师这里会刷新多次，但我这里只刷新一次\r\n    },\r\n    clickTitle (index) {\r\n      // console.log(index);\r\n      this.$refs.scroll.scrollTo(0,-this.topYs[index],1000)\r\n    },\r\n    contentScroll (position) { // 根据scroll组件发出的scroll事件，获取到position值\r\n    // 1.获取y值\r\n      const positionY = - position.y\r\n      // 2.将y值与组件内容高度做对比\r\n      // console.log(this.topYs[0]); // 这里是undefined，得不到它的值，并且即使得到了也应该为负值，\r\n      // console.log(positionY);\r\n      let length = this.topYs.length\r\n      // for(let i in this.topYs)  此方法获取的 i为字符串 要用parseInt(i) 或者 i*1 的方法将其转为数值\r\n      // for(let i=0;i<length;i++){\r\n        // if(this.topYs[i].positionY >=0 && this.topYs[i].positionY < this.topYs[i+1].positionY)\r\n      //   console.log(this.topYs[i]);\r\n      // console.log(this.topYs.length);\r\n      // 1.普通做法\r\n        // if(this.currentIndex !== i && ((i < length -1 && positionY >= this.topYs[i] && positionY < this.topYs[i+1]) || (i === length -1 && positionY >= this.topYs[i]))){\r\n        // 2.hack做法，在数组后面加一个无限大的值，并且遍历时只遍历到 i<length-1\r\n        for(let i=0;i<length-1;i++){\r\n          if(this.currentIndex !== i && (i<length-1 && positionY >= this.topYs[i] && positionY < this.topYs[i+1])){\r\n            this.currentIndex = i\r\n          console.log(i); // 因为此时打印非常频繁，所以将当前index保存为一个变量，在两个不等的情况下才打印，就不会很频繁\r\n          console.log(this.topYs[i]); // 此处的值是正值\r\n          this.$refs.nav.currentIndex = this.currentIndex\r\n        }\r\n      }\r\n      // 是否显示回到底部按钮的判断\r\n      this.showTop = positionY > 1000\r\n    },\r\n    // 封装到混入mixin里\r\n      // backTop () {\r\n      //   this.$refs.scroll.scrollTo(0,0)\r\n      // }\r\n    addToCart () {\r\n      // 1.获取购物车需要展示的信息，因为有多个信息，所以可以放在一个对象里\r\n      const product = {}\r\n      product.image = this.topImages[0]\r\n      product.title = this.goods.title\r\n      product.desc = this.goods.desc\r\n      product.price = this.goods.realPrice\r\n      product.iid = this.iid // id一定要传，因为id是商品的唯一标识，是将id传给服务器获取到对应的商品\r\n\r\n      // 2.将商品添加到购物车里\r\n      // this.$store.commit('addCart',product) commit是将product提交到store中mutations里的方法addCart\r\n      this.$store.dispatch('addCart',product)  // dispatch是提交到actions里去，再由actions分发commit到mutations里不同的方法中去\r\n      // 3.如果添加购物车成功（用promise监视成功与否）\r\n      .then(res => {\r\n        // console.log(res);\r\n        // this.isShow = true\r\n        // this.message = res\r\n        // setTimeout(() => {\r\n        //   this.isShow = false\r\n        // },1000)\r\n        this.$toast.show(res,1000)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#detail {\r\n  position: relative;\r\n  z-index: 9;\r\n  background: #fff;\r\n  height: 100vh;\r\n}\r\n.content {\r\n  height: calc(100% - 44px - 44px);\r\n  overflow: hidden;\r\n}\r\n</style>\r\n"]}]}