{"remainingRequest":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/src/components/common/scroll/Scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/src/components/common/scroll/Scroll.vue","mtime":1622267426000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/yuying/Learning/Vue3/Vue-Project/mall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQlNjcm9sbCBmcm9tICdiZXR0ZXItc2Nyb2xsJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnU2Nyb2xsJywNCiAgcHJvcHM6IHsNCiAgICBwcm9iZVR5cGU6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDANCiAgICB9LA0KICAgIHB1bGxVcExvYWQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgb2JzZXJ2ZURPTTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgb2JzZXJ2ZUltYWdlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDpmYWxzZQ0KICAgIH0sDQogICAgZGF0YTogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0ICgpIHsNCiAgICAgICAgcmV0dXJuIFtdDQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc2Nyb2xsOiBudWxsDQogICAgfQ0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4geyDlm77niYfliqDovb3lrozmiJDlkI7lho3mu5rliqjlsLHkuI3nlKjlrprml7blmajkuoYNCiAgICAgICAgLy8gMS7liJvlu7pCU2Nyb2xs5a+56LGhDQogICAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IEJTY3JvbGwodGhpcy4kcmVmcy53cmFwcGVyLHsNCiAgICAgICAgICBjbGljazogdHJ1ZSwgLyogZGl2562J5YWD57Sg5oOz6KaB6KKr54K55Ye777yM5b+F6aG76K6+572uY2xpY2sgKi8NCiAgICAgICAgICBwcm9iZVR5cGU6IHRoaXMucHJvYmVUeXBlLA0KICAgICAgICAgIHB1bGxVcExvYWQ6IHRoaXMucHVsbFVwTG9hZCwNCiAgICAgICAgICBvYnNlcnZlRE9NOiB0aGlzLm9ic2VydmVET00sDQogICAgICAgICAgLy8g562J6aG16Z2i5Zu+54mH5Yqg6L295a6M5LmL5ZCO77yM5Yi35pawY29udGVudOmrmOW6pg0KICAgICAgICAgIG9ic2VydmVJbWFnZTogdGhpcy5vYnNlcnZlSW1hZ2UNCiAgICAgICAgfSkNCiAgICAgICAgLy8gMi7nm5HlkKzmu5rliqjnmoTkvY3nva4NCiAgICAgICAgaWYodGhpcy5wcm9iZVR5cGU9PT0yIHx8IHRoaXMucHJvYmVUeXBlPT09Myl7DQogICAgICAgICAgdGhpcy5zY3JvbGwub24oJ3Njcm9sbCcsIHBvc2l0aW9uID0+IHsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwb3NpdGlvbikNCiAgICAgICAgICB0aGlzLiRlbWl0KCdzY3JvbGwnLHBvc2l0aW9uKQ0KICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICAvLyAzLuebkeWQrHNjcm9sbOaYr+WQpua7muWKqOWIsOW6lemDqA0KICAgICAgaWYodGhpcy5wdWxsVXBMb2FkKXsgLy8gcHVsbFVwTG9hZOS4unRydWXml7bvvIzliLDovr7lupXpg6jvvIzkuLpmYWxzZeeahOe7hOS7tuS4jeeUqOebkeWQrOatpOS6i+S7tu+8jOaPkOWNh+aViOeOhw0KICAgICAgICB0aGlzLnNjcm9sbC5vbigncHVsbGluZ1VwJywoKT0+ew0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdib3R0b20nKTsg5Yiw6L6+5bqV6YOo5pe25omN6Kem5Y+R5Ye95pWwDQogICAgICAgICAgdGhpcy4kZW1pdCgncHVsbGluZ1VwJykNCiAgICAgIH0pDQogICAgICB9DQogICAgICAvLyB9LDEwMDApDQogIH0sDQogIHdhdGNoOiB7DQogICAgZGF0YSAoKSB7DQogICAgICBzZXRUaW1lb3V0KHRoaXMucmVmcmVzaCwzMCkNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzY3JvbGxUbyh4LHksdGltZT0xMDAwKXsNCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnNjcm9sbFRvKHgseSx0aW1lKQ0KICAgIH0sDQogICAgcmVmcmVzaCAoKSB7DQogICAgICBjb25zb2xlLmxvZygnLS0tLScpOyAvLyDmo4DmtYvliLDliLfmlrDnmoTmrKHmlbANCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnJlZnJlc2goKQ0KICAgIH0sDQogICAgZmluaXNoUHVsbFVwKCl7DQogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5maW5pc2hQdWxsVXAoKQ0KICAgIH0sDQogICAgZ2V0U2Nyb2xsWSAoKSB7DQogICAgICAvLyDlvpfliLDmu5rliqjnmoR56L2055qE5L2N572uDQogICAgICByZXR1cm4gdGhpcy5zY3JvbGwgPyB0aGlzLnNjcm9sbC55IDogMA0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Scroll.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Scroll.vue","sourceRoot":"src/components/common/scroll","sourcesContent":["<template>\r\n    <div class=\"wrapper\" ref=\"wrapper\">\r\n        <div class=\"content\">\r\n            <slot></slot> <!-- 插槽就是将主页里<sroll>的内容替换过来 -->\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport BScroll from 'better-scroll'\r\nexport default {\r\n  name: 'Scroll',\r\n  props: {\r\n    probeType: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    pullUpLoad: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    observeDOM: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    observeImage: {\r\n      type: Boolean,\r\n      default:false\r\n    },\r\n    data: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      scroll: null\r\n    }\r\n  },\r\n  mounted () {\r\n      // setTimeout(() => { 图片加载完成后再滚动就不用定时器了\r\n        // 1.创建BScroll对象\r\n        this.scroll = new BScroll(this.$refs.wrapper,{\r\n          click: true, /* div等元素想要被点击，必须设置click */\r\n          probeType: this.probeType,\r\n          pullUpLoad: this.pullUpLoad,\r\n          observeDOM: this.observeDOM,\r\n          // 等页面图片加载完之后，刷新content高度\r\n          observeImage: this.observeImage\r\n        })\r\n        // 2.监听滚动的位置\r\n        if(this.probeType===2 || this.probeType===3){\r\n          this.scroll.on('scroll', position => {\r\n          // console.log(position)\r\n          this.$emit('scroll',position)\r\n        })\r\n        }\r\n      // 3.监听scroll是否滚动到底部\r\n      if(this.pullUpLoad){ // pullUpLoad为true时，到达底部，为false的组件不用监听此事件，提升效率\r\n        this.scroll.on('pullingUp',()=>{\r\n          // console.log('bottom'); 到达底部时才触发函数\r\n          this.$emit('pullingUp')\r\n      })\r\n      }\r\n      // },1000)\r\n  },\r\n  watch: {\r\n    data () {\r\n      setTimeout(this.refresh,30)\r\n    }\r\n  },\r\n  methods: {\r\n    scrollTo(x,y,time=1000){\r\n      this.scroll && this.scroll.scrollTo(x,y,time)\r\n    },\r\n    refresh () {\r\n      console.log('----'); // 检测到刷新的次数\r\n      this.scroll && this.scroll.refresh()\r\n    },\r\n    finishPullUp(){\r\n      this.scroll && this.scroll.finishPullUp()\r\n    },\r\n    getScrollY () {\r\n      // 得到滚动的y轴的位置\r\n      return this.scroll ? this.scroll.y : 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"]}]}